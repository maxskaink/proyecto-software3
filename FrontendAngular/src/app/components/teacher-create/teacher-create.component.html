<app-molecule-back-header [confirmBack]="true"></app-molecule-back-header>

<div class="container mt-4">
  <!-- Header Section -->
  <section class="d-flex flex-column justify-content-center align-items-center mb-4">
    <h1 class="fw-bold title">{{title}}</h1>
    <p class="text-muted description">{{description}}</p>
    <div class="alert alert-info" role="alert">
      <i class="bi bi-info-circle me-2"></i>
      Se generará una contraseña temporal con el formato: Temp[número de identificación]#
    </div>
  </section>
  <section class="d-flex flex-column justify-content-center align-items-center mb-4">
    <h1 class="fw-bold title">{{title}}</h1>
    <p class="text-muted description">{{description}}</p>
  </section>

  <!-- Form Section -->
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <form [formGroup]="teacherForm" (ngSubmit)="onSubmit()" class="teacher-form-card">
        <!-- Personal Information -->
        <div class="form-group mb-3">
          <label for="name" class="form-label">Nombre</label>
          <input type="text" 
                 class="form-control" 
                 id="name"
                 formControlName="name"
                 placeholder="Ingrese el nombre">
          <div *ngIf="teacherForm.get('name')?.invalid && teacherForm.get('name')?.touched" 
               class="text-danger small">
            El nombre es requerido
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="lastName" class="form-label">Apellidos</label>
          <input type="text" 
                 class="form-control" 
                 id="lastName"
                 formControlName="lastName"
                 placeholder="Ingrese los apellidos">
          <div *ngIf="teacherForm.get('lastName')?.invalid && teacherForm.get('lastName')?.touched" 
               class="text-danger small">
            Los apellidos son requeridos
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="email" class="form-label">Correo Electrónico</label>
          <input type="email" 
                 class="form-control" 
                 id="email"
                 formControlName="email"
                 placeholder="ejemplo@correo.com">
          <div *ngIf="teacherForm.get('email')?.invalid && teacherForm.get('email')?.touched" 
               class="text-danger small">
            Ingrese un correo válido
          </div>
        </div>

        <!-- Identification -->
        <div class="form-group mb-3">
          <label for="identificationType" class="form-label">Tipo de Identificación</label>
          <select class="form-control" 
                  id="identificationType"
                  formControlName="identificationType">
            <option value="CC">Cédula de Ciudadanía</option>
            <option value="CE">Cédula de Extranjería</option>
            <option value="TI">Tarjeta de Identidad</option>
            <option value="PP">Pasaporte</option>
          </select>
        </div>

        <div class="form-group mb-3">
          <label for="identification" class="form-label">Número de Identificación</label>
          <input type="number" 
                 class="form-control" 
                 id="identification"
                 formControlName="identification"
                 placeholder="Ingrese el número de identificación">
          <div *ngIf="teacherForm.get('identification')?.invalid && teacherForm.get('identification')?.touched" 
               class="text-danger small">
            La identificación es requerida
          </div>
        </div>

        <!-- Professional Information -->
        <div class="form-group mb-3">
          <label for="academicTitle" class="form-label">Título Académico</label>
          <input type="text" 
                 class="form-control" 
                 id="academicTitle"
                 formControlName="academicTitle"
                 placeholder="Ingrese el título académico">
          <div *ngIf="teacherForm.get('academicTitle')?.invalid && teacherForm.get('academicTitle')?.touched" 
               class="text-danger small">
            El título académico es requerido
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="role" class="form-label">Rol</label>
          <select class="form-control" 
                  id="role"
                  formControlName="role">
            <option value="Teacher">Docente</option>
            <option value="Coordinator">Coordinador</option>
          </select>
        </div>

        <div class="form-group mb-3">
          <label for="typeTeacher" class="form-label">Tipo de Docente</label>
          <select class="form-control" 
                  id="typeTeacher"
                  formControlName="typeTeacher">
            <option value="pregrado">Pregrado</option>
            <option value="postgrado">Postgrado</option>
          </select>
        </div>

        <!-- Action Buttons -->
        <div class="d-flex gap-3 mt-4">
          <button type="button" 
                  class="btn btn-secondary flex-grow-1" 
                  (click)="goBack()">
            Cancelar
          </button>
          <button type="submit" 
                  class="btn btn-primary flex-grow-1" 
                  [disabled]="teacherForm.invalid || isSubmitting">
            <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2"></span>
            {{create ? 'Crear' : 'Actualizar'}} Docente
          </button>
        </div>
      </form>
    </div>
  </div>
</div>